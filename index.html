<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ìê¸°ê´€ë¦¬ ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='55' r='35' fill='%2334c759'/><ellipse cx='50' cy='50' rx='30' ry='32' fill='%2352d273'/><ellipse cx='45' cy='45' rx='10' ry='12' fill='%23ffffff' opacity='0.3'/><rect x='48' y='15' width='4' height='10' fill='%238b4513'/><path d='M 52 20 Q 60 18 62 25' stroke='%2352d273' stroke-width='2' fill='none'/></svg>" type="image/svg+xml">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "Malgun Gothic", sans-serif; background: #f2f6f4; padding: 20px; }
        .container { background: white; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); padding: 30px; max-width: 900px; margin: 0 auto; }
        .nav-arrows { display: flex; justify-content: center; align-items: center; margin-bottom: 20px; gap: 30px; }
        .nav-arrow { background: #4caf50; color: white; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 20px; cursor: pointer; }
        .nav-arrow:disabled { background: #cccccc; }
        .page-indicator { font-weight: bold; color: #4caf50; font-size: 20px; }
        .page { display: none; }
        .page.active { display: block; }
        h2 { text-align: center; margin-bottom: 20px; color: #2e7d32; font-size: 24px; }
        .input-row { display: flex; margin-bottom: 20px; gap: 10px; }
        .input-row input { flex: 1; padding: 12px; border-radius: 8px; border: 2px solid #ddd; font-size: 16px; }
        .input-row button { padding: 12px 20px; background: #4caf50; border: none; border-radius: 8px; color: white; cursor: pointer; font-size: 16px; }
        .task { display: grid; grid-template-columns: auto 1fr auto auto; align-items: center; gap: 15px; background: #fff3a0; margin: 12px 0; padding: 16px; border-radius: 8px; border: 1px solid #e6d73a; }
        .task input[type="checkbox"] { width: 20px; height: 20px; accent-color: #34c759; }
        .task-text { font-weight: 500; font-size: 16px; }
        .point { font-weight: bold; color: #4caf50; background: #f0f8f0; padding: 6px 12px; border-radius: 6px; border: 1px solid #4caf50; text-align: center; font-size: 14px; }
        .delete-btn { background: none; border: none; font-size: 20px; cursor: pointer; padding: 5px; border-radius: 50%; }
        .score { margin-top: 30px; text-align: center; font-weight: bold; color: #2e7d32; font-size: 18px; padding: 15px; background: #f0f8f0; border-radius: 8px; }
        .action-buttons { display: flex; justify-content: center; gap: 30px; margin-top: 20px; }
        .action-buttons button { background: none; border: none; font-size: 24px; cursor: pointer; }
        .page4-buttons { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
        .page4-buttons button { padding: 12px 24px; background: white; color: #333; border: 2px solid #ccc; border-radius: 8px; font-size: 16px; cursor: pointer; font-weight: bold; }
        .page6-reset { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 2px solid #e0e0e0; }
        .reset-all-btn { background: transparent; color: #666; border: 2px solid #ddd; border-radius: 8px; padding: 15px 30px; font-size: 16px; font-weight: bold; cursor: pointer; }
        .goal-box, .diary-box { width: 100%; min-height: 150px; padding: 15px; border: 2px solid #4caf50; border-radius: 8px; font-family: inherit; font-size: 16px; resize: vertical; margin: 10px 0; }
        .goal-box { background: #f0f8f0; }
        .diary-box { background: #fff9f0; }
        label { display: block; margin-bottom: 10px; font-weight: bold; color: #2e7d32; font-size: 18px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: center; }
        th { background: #4caf50; color: white; }
        tr:nth-child(even) { background: #f9f9f9; }
        .grade-s { color: #ff6b00; font-weight: bold; font-size: 22px; }
        .grade-a { color: #4caf50; font-weight: bold; font-size: 22px; }
        .grade-b { color: #2196F3; font-weight: bold; font-size: 22px; }
        .grade-c { color: #FFC107; font-weight: bold; font-size: 22px; }
        .grade-d { color: #FF9800; font-weight: bold; font-size: 22px; }
        .grade-f { color: #f44336; font-weight: bold; font-size: 22px; }
        .mood-emoji { font-size: 32px; }
        @keyframes celebrate {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(2) rotate(180deg); }
            50% { transform: scale(0.8) rotate(360deg); }
            75% { transform: scale(2.2) rotate(540deg); }
            100% { transform: scale(1) rotate(720deg); }
        }
        .celebration-emoji { animation: celebrate 1.5s ease-in-out infinite; display: inline-block; font-size: 32px; }
        .tips-section { background: #f0f8f0; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .tips-section h3 { color: #2e7d32; margin-bottom: 15px; font-size: 20px; }
        .tips-section ul { list-style: none; padding: 0; }
        .tips-section li { padding: 8px 0; line-height: 1.6; }
        .tips-section li strong { color: #2e7d32; }
        .water-stone-img { display: block; margin: 30px auto; max-width: 400px; width: 100%; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .overall-score { margin-top: 30px; text-align: center; font-weight: bold; color: #2196F3; font-size: 18px; padding: 15px; background: #e3f2fd; border-radius: 8px; }
        .bank-message { margin-top: 30px; text-align: center; font-weight: bold; color: #34c759; font-size: 18px; padding: 15px; background: rgba(52, 199, 89, 0.1); border-radius: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-arrows">
            <button class="nav-arrow" onclick="changePage(-1)">â†</button>
            <span class="page-indicator">í˜ì´ì§€ <span id="currentPage">1</span> / 6</span>
            <button class="nav-arrow" onclick="changePage(1)">â†’</button>
        </div>

        <div class="page active" id="page1">
            <h2>ë‚˜ì˜ ìê¸°ê´€ë¦¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ <span onclick="showResetInfo()" style="cursor: pointer; font-size: 24px;">ğŸ</span></h2>
            <div style="text-align: center; margin-bottom: 20px; padding: 15px; background: #e8f5e8; border-radius: 8px;">
                <div style="font-size: 18px; font-weight: bold; color: #2e7d32;" id="currentDateTime"></div>
            </div>
            <div class="input-row">
                <input type="text" id="newTask" placeholder="ìƒˆë¡œìš´ í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
                <button onclick="addTask()">ì¶”ê°€</button>
            </div>
            <div id="taskList">
                <div class="task"><input type="checkbox" onchange="updateScore()"><span class="task-text">AI ì¼ë°˜ ê³µë¶€í•˜ê¸°</span><span class="point">20ì </span><button class="delete-btn" onclick="deleteThis(this)">ğŸ</button></div>
                <div class="task"><input type="checkbox" onchange="updateScore()"><span class="task-text">ìš”ë¦¬í•˜ê¸°</span><span class="point">20ì </span><button class="delete-btn" onclick="deleteThis(this)">ğŸ</button></div>
                <div class="task"><input type="checkbox" onchange="updateScore()"><span class="task-text">1ì‹œê°„ë§ˆë‹¤ ìŠ¤ì¿¼íŠ¸ ìš´ë™í•˜ê¸°</span><span class="point">20ì </span><button class="delete-btn" onclick="deleteThis(this)">ğŸ</button></div>
                <div class="task"><input type="checkbox" onchange="updateScore()"><span class="task-text">í•´ì§ˆ ë¬´ë µ ì¤„ë„˜ê¸° 50ë²ˆí•˜ê¸°</span><span class="point">20ì </span><button class="delete-btn" onclick="deleteThis(this)">ğŸ</button></div>
                <div class="task"><input type="checkbox" onchange="updateScore()"><span class="task-text">ì•± ê°œë°œ ê³µë¶€í•˜ê¸°</span><span class="point">20ì </span><button class="delete-btn" onclick="deleteThis(this)">ğŸ</button></div>
            </div>
            <div class="score" id="scoreBoard">ì˜¤ëŠ˜ ì„±ì : 0 / 100ì </div>
            <div class="action-buttons"><button onclick="saveToStats()">ğŸ ì €ì¥</button></div>
        </div>

        <div class="page" id="page2">
            <h2>ğŸ“… ì´ë²ˆ ë‹¬ ì¼ë³„ ì„±ê³¼</h2>
            <table><thead><tr><th>ì¼ì</th><th>ì ìˆ˜</th><th>ë“±ê¸‰</th><th>í¼ì„¼íŠ¸</th><th>ê¸°ë¶„</th></tr></thead><tbody id="dailyStatsBody"></tbody></table>
        </div>

        <div class="page" id="page3">
            <h2>ğŸ“Š ì›”ë³„ ì„±ê³¼ í†µê³„</h2>
            <table><thead><tr><th>ì›”</th><th>í‰ê·  ì ìˆ˜</th><th>ë“±ê¸‰</th><th>ì‘ì› ë©”ì‹œì§€</th></tr></thead><tbody id="monthlyStatsBody"></tbody></table>
            <div class="bank-message">ğŸ’° ì ìˆ˜ê°€ ì€í–‰ ì”ê³ ë¼ê³  ìƒê°í•´ë³´ì„¸ìš”!!</div>
        </div>

        <div class="page" id="page4">
            <h2>ğŸ“ˆ ì—°ë„ë³„ ì„±ê³¼ íˆìŠ¤í† ë¦¬</h2>
            <table><thead><tr><th>ì—°ë„</th><th>ì—°ê°„ í‰ê·  ì ìˆ˜</th><th>ìµœê³  ë‹¬ì„±ë¥ </th><th>ë‹¬ì„± í‰ê·  ë“±ê¸‰</th><th>ìƒíƒœ</th></tr></thead><tbody id="yearlyStatsBody"></tbody></table>
            <div class="overall-score">ğŸ† ì´ í‰ê·  ì ìˆ˜: <span id="overallAvgScore">ë°ì´í„° ìˆ˜ì§‘ì¤‘</span></div>
        </div>

        <div class="page" id="page5">
            <h2>ğŸ¯ ë‚˜ì˜ ëª©í‘œ & ì„±ì°° ì¼ê¸°</h2>
            <label>ğŸ’­ ì˜¬í•´ì˜ ëª©í‘œì™€ í¬ë¶€</label>
            <textarea class="goal-box" id="goalBox" placeholder="ì´ê³³ì— 1ë…„ê°„ì˜ ì„±ê³¼ ë‹¬ì„±ì„ ìœ„í•œ ëª©í‘œì™€ í¬ë¶€ë¥¼ ê¸°ë¡í•´ë³´ì„¸ìš”..."></textarea>
            <label>ğŸ“ ì„±ì°°ê³¼ ë‹¬ì„± ê¸°ë¡</label>
            <textarea class="diary-box" id="diaryBox" placeholder="ëª©í‘œ ë‹¬ì„± ê³¼ì •ì—ì„œì˜ ì„±ì°°, ë°˜ì„±, ì„±ì·¨ê° ë“±ì„ ììœ ë¡­ê²Œ ê¸°ë¡í•´ë³´ì„¸ìš”..."></textarea>
            <div class="page4-buttons">
                <button onclick="clearInputs()">ğŸ ì…ë ¥ ì§€ìš°ê¸°</button>
                <button onclick="saveInputs()">ğŸ ì €ì¥í•˜ê¸°</button>
            </div>
        </div>

        <div class="page" id="page6">
            <h2>ğŸ’¡ ì„±ê³µê³¼ ì‹œê°„ê´€ë¦¬</h2>
            <div class="tips-section">
                <h3>ğŸ¯ ì„±ê³µ íŒ</h3>
                <ul>
                    <li><strong>â€¢ íšŒë³µë ¥ì˜ í˜:</strong> í›Œë¥­í•œ ì¼ì„ í•˜ëŠ” ê²ƒì€ ë§¤ì¼ì˜ ê¸°ì¨ê³¼ í–‰ë³µì— ê´€í•œ ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ìì‹ ì´ í•˜ëŠ” ì¼ì„ ì‚¬ë‘í•˜ê³  íšŒë³µë ¥ì„ ê°–ëŠ” ê²ƒì…ë‹ˆë‹¤.</li>
                    <li><strong>â€¢ ë„ì „ì„ í†µí•œ ì„±ì¥:</strong> ë„ˆë¬´ ë†’ì€ ê¸°ëŒ€ì¹˜ë¥¼ ê°€ì§„ ì‚¬ëŒë“¤ì€ ì¶©ë¶„í•œ íšŒë³µë ¥ì„ ê°–ì§€ ëª»í•©ë‹ˆë‹¤. ë¶ˆí–‰í•˜ê²Œë„ ì„±ê³µì˜ ì—´ì‡ ëŠ” íšŒë³µë ¥ì…ë‹ˆë‹¤... ì¶©ë¶„í•œ ì—­ê²½ê³¼ ê³ ë‚œì„ ê²ªê¸°ë¥¼ ë°”ëë‹ˆë‹¤.</li>
                    <li><strong>â€¢ ë…¸ë ¥ì˜ ê°€ì¹˜:</strong> ë‚˜ë³´ë‹¤ ë” ë˜‘ë˜‘í•œ ì‚¬ëŒì´ ìˆì„ ìˆ˜ ìˆì§€ë§Œ, ë‚˜ë³´ë‹¤ ë” ì—´ì‹¬íˆ ì¼í•˜ëŠ” ì‚¬ëŒì€ ì ˆëŒ€ ì—†ì„ ê²ƒì…ë‹ˆë‹¤.</li>
                </ul>
                <div style="text-align: right; margin-top: 10px; color: #666; font-style: italic;">- ì  ìŠ¨ í™© -</div>
            </div>
            <div class="tips-section">
                <h3>â° ì‹œê°„ê´€ë¦¬ ì›ì¹™</h3>
                <ul>
                    <li><strong>â€¢ ì‘ê²Œ ì‹œì‘í•˜ê¸°:</strong> ì£¼ì–´ì§„ ë‚ ì— ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ë‹¤ë©´ 5ë¶„ë§Œì´ë¼ë„ í•˜ì„¸ìš”. ì‹œì‘ì´ ë°˜ì…ë‹ˆë‹¤.</li>
                    <li><strong>â€¢ ìš°ì„ ìˆœìœ„ ì§‘ì¤‘:</strong> ê°€ì¥ ì¤‘ìš”í•œ 3ê°€ì§€ ì‘ì—…ì„ ë¨¼ì € ì™„ë£Œí•˜ì„¸ìš”. ë‚˜ë¨¸ì§€ëŠ” ê·¸ ë‹¤ìŒì…ë‹ˆë‹¤.</li>
                    <li><strong>â€¢ ì‹œê°„ì„ íˆ¬ìë¡œ:</strong> ì ŠìŒì˜ ëª¨ë“  ìˆœê°„ì€ ìì‹ ì— ëŒ€í•œ ì‹œê°„ì  íˆ¬ìì…ë‹ˆë‹¤. í˜„ëª…í•˜ê²Œ ì„ íƒí•˜ê³  ì „ëµì ìœ¼ë¡œ ì‹¤í–‰í•˜ì„¸ìš”.</li>
                </ul>
            </div>
            <img src="./water-stone.jpg" alt="ë¬¼ë°©ìš¸ì´ ë°”ìœ„ë¥¼ ëš«ëŠ”ë‹¤" class="water-stone-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <div style="display: none; text-align: center; padding: 20px; background: #f5f5f5; border-radius: 8px; color: #666;">ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. 'water-stone.jpg' íŒŒì¼ì´ HTMLê³¼ ê°™ì€ í´ë”ì— ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.</div>
            <div class="page6-reset"><button class="reset-all-btn" onclick="resetAll()">ğŸ ì§„ì§œ ì´ˆê¸°í™” (ëª¨ë“  ì‚­ì œ)</button></div>
        </div>
    </div>

    <script>
        let currentPageNum=1,basePoints=100;
        function showResetInfo(){alert('ë§¤ì¼ í•­ëª©ì€ 0ì‹œë¶€í„° ì´ˆê¸°í™” ë˜ê³  ìˆì–´ìš”')}
        function getGradeText(s){if(s>=90)return{text:'S',class:'grade-s'};if(s>=80)return{text:'A',class:'grade-a'};if(s>=70)return{text:'B',class:'grade-b'};if(s>=60)return{text:'C',class:'grade-c'};if(s>=50)return{text:'D',class:'grade-d'};return{text:'F',class:'grade-f'}}
        function getGradeEmoji(s){if(s>=100)return'<span class="celebration-emoji">ğŸ‰</span>';if(s>=90)return'ğŸ˜„';if(s>=80)return'ğŸ˜Š';if(s>=70)return'ğŸ™‚';if(s>=60)return'ğŸ˜';if(s>=50)return'ğŸ˜Ÿ';return'ğŸ˜¢'}
        function getMotivationalMessage(s){if(s>=100)return'Perfect Score!';if(s>=80)return'Excellent Work';if(s>=60)return'Strong Performance';if(s>=40)return'Good Progress';if(s>=20)return'Keep Building Up';return'Start Fresh Tomorrow'}
        function updateDateTime(){const n=new Date(),o={year:'numeric',month:'long',day:'numeric',weekday:'long',hour:'2-digit',minute:'2-digit',second:'2-digit'},e=document.getElementById('currentDateTime');e&&(e.textContent=n.toLocaleDateString('ko-KR',o));checkDateChange()}
        function checkDateChange(){const t=new Date(),s=t.getFullYear()+'-'+t.getMonth()+'-'+t.getDate(),l=localStorage.getItem('lastCheckDate');l&&l!==s&&(resetDailyCheckboxes(),alert('ğŸŒ… ìƒˆë¡œìš´ í•˜ë£¨ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!\nì²´í¬ë°•ìŠ¤ê°€ ì´ˆê¸°í™”ë˜ì—ˆì–´ìš”.'));localStorage.setItem('lastCheckDate',s)}
        function resetDailyCheckboxes(){document.querySelectorAll("#page1 input[type='checkbox']").forEach(c=>{c.checked=false});updateScore()}
        function changePage(d){const n=currentPageNum+d;if(n>=1&&n<=6){document.getElementById(`page${currentPageNum}`).classList.remove('active');currentPageNum=n;document.getElementById(`page${currentPageNum}`).classList.add('active');document.getElementById('currentPage').textContent=currentPageNum;if(currentPageNum===2)updateDailyStats();if(currentPageNum===3)updateMonthlyStats();if(currentPageNum===4)updateYearlyStats();if(currentPageNum===5)loadSavedData()}}
        function updateScore(){let s=0;document.querySelectorAll("#page1 input[type='checkbox']").forEach(c=>{if(c.checked)s+=20});document.getElementById('scoreBoard').textContent=`ì˜¤ëŠ˜ ì„±ì : ${s} / ${basePoints}ì `}
        function deleteThis(b){if(confirm('ì´ í•­ëª©ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')){b.parentElement.remove();basePoints-=20;updateScore();alert('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤!')}}
        function addTask(){const t=document.querySelectorAll('.task');if(t.length>=5){alert('ìƒˆ í•­ëª©ì„ ì¶”ê°€í•˜ë ¤ë©´ ë¨¼ì € ê¸°ì¡´ í•­ëª© ì¤‘ í•˜ë‚˜ë¥¼ ì‚­ì œí•´ì£¼ì„¸ìš”!');return}const i=document.getElementById('newTask'),n=i.value.trim();if(!n){alert('í•  ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');return}const l=document.getElementById('taskList'),d=document.createElement('div');d.className='task';d.innerHTML=`<input type="checkbox" onchange="updateScore()"><span class="task-text">${n}</span><span class="point">20ì </span><button class="delete-btn" onclick="deleteThis(this)">ğŸ</button>`;l.appendChild(d);i.value='';basePoints+=20;updateScore();alert('í•  ì¼ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!')}
        function saveToStats(){let s=0;document.querySelectorAll("#page1 input[type='checkbox']").forEach(c=>{if(c.checked)s+=20});if(s===0){alert('ì €ì¥í•  ì ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤!');return}const t=new Date(),k=t.getFullYear()+'-'+t.getMonth()+'-'+t.getDate();let d=JSON.parse(localStorage.getItem('dailyStats')||'{}');d[k]={score:s,date:t.getDate(),month:t.getMonth(),year:t.getFullYear()};localStorage.setItem('dailyStats',JSON.stringify(d));alert(`${s}ì ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!`)}
        function updateDailyStats(){const t=new Date(),m=t.getMonth(),y=t.getFullYear(),d=new Date(y,m+1,0).getDate(),b=document.getElementById('dailyStatsBody');if(!b)return;b.innerHTML='';const data=JSON.parse(localStorage.getItem('dailyStats')||'{}');for(let i=1;i<=d;i++){const k=y+'-'+m+'-'+i,v=data[k],r=document.createElement('tr');if(v){const p=Math.round(v.score),g=getGradeText(v.score),e=getGradeEmoji(v.score);r.innerHTML=`<td>${i}ì¼</td><td>${v.score}ì </td><td><span class="${g.class}">${g.text}</span></td><td>${p}%</td><td class="mood-emoji">${e}</td>`}else{r.innerHTML=`<td>${i}ì¼</td><td>-</td><td>-</td><td>-</td><td>-</td>`;r.style.opacity='0.5'}b.appendChild(r)}}
        function updateMonthlyStats(){const t=new Date(),y=t.getFullYear(),data=JSON.parse(localStorage.getItem('dailyStats')||'{}'),b=document.getElementById('monthlyStatsBody');if(!b)return;b.innerHTML='';const mn=['1ì›”','2ì›”','3ì›”','4ì›”','5ì›”','6ì›”','7ì›”','8ì›”','9ì›”','10ì›”','11ì›”','12ì›”'];for(let m=0;m<12;m++){let tot=0,cnt=0;for(let k in data){const p=k.split('-');if(parseInt(p[0])===y&&parseInt(p[1])===m){tot+=data[k].score;cnt++}}const r=document.createElement('tr');if(cnt>0){const a=tot/cnt,g=getGradeText(a),msg=getMotivationalMessage(a);r.innerHTML=`<td>${mn[m]}</td><td>${a.toFixed(1)}</td><td><span class="${g.class}">${g.text}</span></td><td>${msg}</td>`}else{r.innerHTML=`<td>${mn[m]}</td><td>0.0</td><td>-</td><td>-</td>`;r.style.opacity='0.5'}b.appendChild(r)}}
        function updateYearlyStats(){const data=JSON.parse(localStorage.getItem('dailyStats')||'{}'),b=document.getElementById('yearlyStatsBody');if(!b)return;b.innerHTML='';const cy=new Date().getFullYear(),yrs=[2025,2026,2027,2028,2029];let ot=0,oc=0;yrs.forEach(y=>{let yt=0,yc=0,mx=0;for(let k in data){if(parseInt(k.split('-')[0])===y){const s=data[k].score;yt+=s;yc++;if(s>mx)mx=s}}const r=document.createElement('tr');if(yc>0){const a=yt/yc,g=getGradeText(a);ot+=yt;oc+=yc;r.innerHTML=`<td>${y}</td><td>${a.toFixed(1)} points</td><td>${mx}%</td><td><span class="${g.class}">${g.text}</span></td><td>ğŸ”¥ Active</td>`}else{const st=y===cy?'ğŸ”¥ Active':'ğŸ¯ Planning';r.innerHTML=`<td>${y}</td><td>-</td><td>-</td><td>-</td><td>${st}</td>`;if(y!==cy)r.style.opacity='0.5'}b.appendChild(r)});if(oc>0){const oa=(ot/oc).toFixed(1),og=getGradeText(ot/oc);document.getElementById('overallAvgScore').textContent=`${oa} points (ë“±ê¸‰: ${og.text})`}}
        function clearInputs(){if(confirm('ì…ë ¥ëœ ë‚´ìš©ì„ ëª¨ë‘ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')){document.getElementById('goalBox').value='';document.getElementById('diaryBox').value='';alert('ì…ë ¥ ë‚´ìš©ì´ ì§€ì›Œì¡ŒìŠµë‹ˆë‹¤.')}}
        function saveInputs(){const g=document.getElementById('goalBox').value.trim(),d=document.getElementById('diaryBox').value.trim();if(!g&&!d){alert('ì €ì¥í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤!');return}localStorage.setItem('userGoal',g);localStorage.setItem('userDiary',d);alert('ëª©í‘œì™€ ì¼ê¸°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!')}
        function resetAll(){if(confirm('âš ï¸ ì •ë§ë¡œ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')){localStorage.clear();alert('ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');location.reload()}}
        function loadSavedData(){document.getElementById('goalBox').value=localStorage.getItem('userGoal')||'';document.getElementById('diaryBox').value=localStorage.getItem('userDiary')||''}
        updateDateTime();setInterval(updateDateTime,1000);const ni=document.getElementById('newTask');if(ni)ni.addEventListener('keypress',e=>{if(e.key==='Enter')addTask()});
    </script>
</body>
</html>
